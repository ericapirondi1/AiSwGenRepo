Project Overview

This project provides a unified framework to manage unit testing, platform file synchronization, build automation, and static code analysis across multiple C software components.

It supports:

Automated execution of unit tests

Consolidated reporting of test results

Docker-based builds for reproducibility

Static analysis using cppcheck with MISRA C:2012 rules

Generation of human-readable HTML reports

The goal is to ensure consistency, traceability, and quality compliance across all software modules.

ğŸ“‚ Project Structure
code/                             # Source code for each software component
 â”œâ”€ swComponent1/
 â”‚   â”œâ”€ build/                    # Build output
 â”‚   â”œâ”€ cppcheck_misra_results/   # MISRA rule violations (XML + HTML)
 â”‚   â”œâ”€ cfg/                      # Configuration files
 â”‚   â”œâ”€ docs/                     # Doxygen documentation
 â”‚   â”œâ”€ Doxyfile                  # Doxygen configuration
 â”‚   â”œâ”€ pltf/                     # Platform files (auto-updated by scripts)
 â”‚   â””â”€ unitTests/                # Unit test definitions
 â”œâ”€ swComponent2/
 â”‚   â”œâ”€ build/
 â”‚   â”œâ”€ cppcheck_misra_results/
 â”‚   â”œâ”€ cfg/
 â”‚   â”œâ”€ docs/
 â”‚   â”œâ”€ Doxyfile
 â”‚   â”œâ”€ pltf/
 â”‚   â””â”€ unitTests/

mixin/                            # Shared or reusable software components

misra/                            # MISRA C:2012 rules headlines file for cppcheck

utExecutionAndResults/
 â”œâ”€ utUnderTest/                  # Tests currently under execution
 â””â”€ utResults/
     â””â”€ total_result_report.txt   # Consolidated unit test results

Dockerfile                        # Docker environment for build + analysis

unitTestsLauncher                 # Script to execute unit tests (use -h for help)

project                           # Ceedling configuration for unit testing

swCmpBuildCheck.py                # Script to build and statically analyze components

CMakeLists.txt                    # Template CMake configuration for components

ğŸ§ª UnitTestsLauncher Script

The unitTestsLauncher script automates the execution of unit tests across all software components.

Main Responsibilities

Discover unit tests
Scans all software components and locates test folders (e.g. TEST_*).

Update platform files
Synchronizes the pltf/ folder for each component to ensure the correct test configuration.

Execute unit tests
Runs all unit tests defined inside each componentâ€™s unitTests/ directory.

Generate a consolidated report
Updates the global report file:

utExecutionAndResults/utResults/total_result_report.txt

ğŸ“Š Unit Test Report Format

The consolidated report contains a summary table with the following columns:

Function Name Under Test â€“ Function or module being tested

Total â€“ Total number of executed tests

Passed â€“ Number of successful tests

Failed â€“ Number of failed tests

Ignored â€“ Number of skipped or disabled tests

The table is formatted and aligned for readability.

ğŸš€ Unit Test Workflow

Add or update unit tests inside each componentâ€™s unitTests/ directory.

From the main project directory, run:

python parsingUtTest.py all


The script will:

Update platform files

Execute all unit tests

Update the consolidated report

Review the results in:

utExecutionAndResults/utResults/total_result_report.txt

ğŸ§ª SwCmpBuildCheck Script

The swCmpBuildCheck.py script automates build validation and static analysis for all software components under the code/ directory.

Purpose

This script ensures that every software component:

Builds correctly using CMake

Is compiled with GCC

Is analyzed with cppcheck using MISRA C:2012 rules

Produces traceable and readable HTML reports

All operations are executed inside a Docker container to guarantee a reproducible environment.

What the Script Does

Component discovery
Recursively scans the code/ directory and identifies components containing:

a pltf/ folder and/or

a cfg/ folder

Temporary CMakeLists generation

If a component does not already contain a CMakeLists.txt, one is generated automatically

The project name is derived from the component folder name

Existing CMakeLists files are never overwritten

Docker-based build and analysis

Builds a Docker image defined by Dockerfile

Mounts the project into /workspace inside the container

For each component:

Runs CMake configure and build

Generates compile_commands.json

Executes cppcheck with MISRA addon

HTML report generation

Converts cppcheck_misra_results.xml into an HTML report

MISRA severities are resolved using the MISRA rules file

Rows are color-coded (Advisory / Required / Mandatory)

File references are clickable VS Code links

Tester name, date, and time are embedded in the report

Cleanup

Deletes only the CMakeLists files generated by the script

Removes the original cppcheck XML files after HTML generation

Paths Used by SwCmpBuildCheck

Script location
The directory where swCmpBuildCheck.py resides

Codebase root

<script_dir>/code


Docker workspace inside container

/workspace


MISRA rules file

misra/misra_c_2012_headlines.txt


Cppcheck output

Temporary: cppcheck_misra_results.xml

Final: cppcheck_misra_results.html

Usage

From the main project directory:

python swCmpBuildCheck.py


To display help and exit:

python swCmpBuildCheck.py -h


or

python swCmpBuildCheck.py -help

ğŸ³ Docker-Based Build System

The Docker environment ensures:

Consistent compiler versions

Reproducible builds

Identical static analysis results across machines

The Docker image includes:

GCC

CMake

cppcheck with MISRA addon

Required Python tooling

All builds and analyses are executed inside the container, while results are written back to the host filesystem.

âœ… Summary

This project provides:

Automated unit test execution and reporting

Scalable build and static analysis across multiple components

MISRA-compliant static checks

Clean HTML reports with traceable diagnostics

Docker-based reproducibility

It is designed for embedded C projects where quality, compliance, and automation are mandatory.